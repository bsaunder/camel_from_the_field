<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>Red Hat, Inc.</title>

  <meta name="description" content="Introduction to Camel with Demos from the Field">
  <meta name="author" content="Bryan Saunders">

  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <link rel="stylesheet" href="css/reveal.css">


  <!-- dstanley/dblack - Set the theme to night - black background -->
  <link rel="stylesheet" href="css/theme/night-rh.css" id="theme">

  <!-- For syntax highlighting -->
  <link rel="stylesheet" href="lib/css/zenburn.css">

  <!-- If the query includes 'print-pdf', include the PDF print sheet -->
  <script>
    if (window.location.search.match(/print-pdf/gi)) {
    	var link = document.createElement('link');
    	link.rel = 'stylesheet';
    	link.type = 'text/css';
    	link.href = 'css/print/pdf-rh.css';
    	document.getElementsByTagName('head')[0].appendChild(link);
    }
  </script>

  <!-- Begin added by SCE -->
  <!-- script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script -->
  <script type="text/javascript" src="plugin/jquery/jquery.min.js"></script>
  <!-- script src="http://code.highcharts.com/highcharts.js"></script -->
  <script src="plugin/highcharts/highcharts.js"></script>
  <!-- script src="http://code.highcharts.com/modules/exporting.js"></script -->
  <script src="plugin/highcharts/exporting.js"></script>


  <style type="text/css">
    .rh-header {
      position: relative;
      width: 100%;
      height: 50px;
      text-align: center;
      font-family: "Overpass", "Liberation Sans", sans-serif;
      font-size: 18px;
      font-weight: normal;
      letter-spacing: -0.02em;
      color: #eeeeee;
    }
    .ribbon {
      position: absolute;
      top: 10px;
      right: 10px;
    }
    p {
      text-align: left;
    }
    .reveal table th {
      text-align: left;
      padding: 0.2em 0.5em 0.2em 0.5em;
      border-bottom: 1px solid;
    }
    .reveal table td {
      text-align: left;
      padding: 0.2em 0.5em 0.2em 0.5em;
      border-bottom: none;
    }
    .reveal table tr:last-child td {
      border-bottom: none;
    }
  </style>

  <!-- end content added by SCE -->


  <!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
</head>

<body>

  <div class="rh-header">
    <img src="images/redhat.png" class="ribbon" /> Red Hat | Bryan Saunders
  </div>

  <div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">

      <section data-background="images/rh_bg1.jpg" data-background-size="contain" data-background-position="center" data-transition="slide">
        <h1 align=left>Camel from the Field</h1>
        <h2 align=left></h2>
        <br />
        <h3 align=left>
          Bryan Saunders
          <br /> Feb 16, 2015
          <br />
      </section>

      <section>
        <h2>Agenda</h2>
        <ul>
          <li>Introduction to Camel
            <ul>
              <li>What is Camel</li>
              <li>Camel Features</li>
              <li>Enterprise Integration Patterns</li>
              <li>Key Components</li>
            </ul>
          </li>
          <li>Camel Architecture</li>
          <li>Supported Platforms</li>
          <li>Camel Hands On
            <ul>
              <li>Common EIPs</li>
              <li>Camel on EAP</li>
              <li>Using JMS</li>
              <li>Web Services</li>
            </ul>
          </li>
          <li>Future of Camel</li>
          <li>Q &amp; A</li>
        </ul>
      </section>

      <section data-background="images/rh_bg2.jpg" data-background-size="contain">
        <h1>Introduction to Camel</h1>
      </section>

      <section>
        <section>
          <h2>What is Camel</h2>
          <blockquote  cite="http://camel.apache.org/what-is-camel.html">
            Apache Camel â„¢ is a versatile open-source integration framework based on known Enterprise Integration Patterns.
            <br/>
            <br/>- Apache Camel Website
          </blockquote>
          <br/>
          <blockquote  cite="http://stackoverflow.com/questions/8845186/what-exactly-is-apache-camel">
            Apache Camel is an open source Java framework that focuses on making integration easier and more accessible to developers. It does this by providing: concrete implementations of all the widely used EIPs, connectivity to a great variety of transports and
            APIs, and easy to use Domain Specific Languages (DSLs) to wire EIPs and transports together
            <br/>
            <br/>- Jonathan Anstey
          </blockquote>
        </section>

        <section>
          <h2>Why an Integration Framework</h2>
          <p >Integration is Critical for Business</p>
          <p >
            Framework does the Heavy Lifting
          </p>
          <p >
            Lets you Focus on the Problem
          </p>
          <p >
            Prevents Re-inventing the Wheel
          </p>
        </section>

        <section>
          <h2>History of Camel</h2>
          <p >
            Started in March 2007
          </p>
          <p >
            Founded by
            <ul >
              <li >
                James Strachan
              </li>
              <li >
                Rob Davies
              </li>
              <li >
                Hiram Chirino
              </li>
              <li >
                Guillaume Nodet
              </li>
            </ul>
          </p>
          <p >
            First Release in June 2007
          </p>
          <p >
            Spawned from Apache ServiceMix and Apache ActiveMQ
          </p>
          <aside class="notes">
            ServiceMix and ActiveMQ both had a need to implement EIP's. A decision was made to put that functionality into a seperate Framework that could be used anywhere. Thus Camel was born.
          </aside>
        </section>
      </section>

      <section>
        <h2>Camel Features</h2>
        <p >
          Very Leightweight
          <span >, Consists of only a handful of JARs</span>
        </p>
        <p >
          Easy Configuration
        </p>
        <p >
          No Heavy Specification
        </p>
        <p >
          No Container Dependencies
        </p>
        <p >
          Payload Agnostic
        </p>
      </section>

      <section>
      <section>
        <h2>Simple Programming</h2>
        <p >Minimal Configuration</p>
        <p >
          DSL Based Programming
        </p>
        <p >
          6 DSL's and Counting
        </p>
        <p>
          <ul>
            <li >
              Java DSL
            </li>
            <li >
              Spring XML
            </li><li >
              Blueprint XML
            </li><li >
              Rest DSL
            </li><li >
              Groovy DSL
            </li><li >
              Scala DSL
            </li><li >
              Kotlin DSL in the works
            </li>
          </ul>
        </p>
      </section>

      <section>
        <h2>Java DSL</h2>
        <pre>
          <code data-trim>
from("file:src/data?noop=true")
  .choice()
    .when(xpath("/person/city = &#39;London&#39;"))
      .to("file:target/messages/uk")
    .otherwise()
      .to("file:target/messages/others");
          </code>
        </pre>
      </section>

      <section>
        <h2>Spring XML</h2>
        <pre>
          <code data-trim>
<route>
  <from uri="direct:a"/>
  <choice>
    <when>
      <xpath>$foo = 'bar'</xpath>
      <to uri="direct:b"/>
    </when>
    <when>
      <xpath>$foo = 'cheese'</xpath>
      <to uri="direct:c"/>
    </when>
    <otherwise>
      <to uri="direct:d"/>
    </otherwise>
  </choice>
</route>
          </code>
        </pre>
      </section>

      <section>
        <h2>Rest DSL</h2>
        <table width="100%">
          <tr>
            <td>
              <pre>
                <code>
rest("/say")
  .get("/hello").to("direct:hello")
  .get("/bye").consumes("application/json").to("direct:bye")



                </code>
              </pre>
            </td>
            <td>
              <pre>
                <code data-trim>
<rest path="/say">
  <get uri="/hello">
    <to uri="direct:hello"/>
  </get>
  <get uri="/bye" consumes="application/json">
    <to uri="direct:bye"/>
  </get>
</rest>
                </code>
              </pre>
            </td>
          </tr>
        </table>
        <aside class="notes">
          Not Available until Camel 2.14
        </aside>
      </section>
    </section>

      <section>
        <section>
          <h2>Components</h2>
          <p>
            191 Components and counting
          </p>
          <p>
            Component for pretty much anything
          </p>
          <p>
            Most commonley used components
          </p>
          <p>
            <ul>
              <li>CXF</li>
              <li>CXFRS</li>
              <li>JMS</li>
              <li>ActiveMQ</li>
              <li>AMQP</li>
              <li>Infinispan</li>
              <li>CDI</li>
              <li>Drools</li>
            </ul>
          </p>
        </section>
        <section>
          <h2>Lots of Components</h2>
          <table style="margin: 0 auto;">
            <tr>
              <td>ahc</td>
              <td>aws-ddb</td>
              <td>beanstalk</td>
              <td>cometid</td>
              <td>dataformat</td>
              <td>ejb</td>
            </tr>
            <tr>
              <td>ahc-ws</td>
              <td>aws-sdb</td>
              <td>bean-validator</td>
              <td>context</td>
              <td>dataset</td>
              <td>eleasticsearch</td>
            </tr>
            <tr>
              <td>amqp</td>
              <td>aws-ses</td>
              <td>box</td>
              <td>controlbus</td>
              <td>direct</td>
              <td>spring-event</td>
            </tr>
            <tr>
              <td>apns</td>
              <td>aws-sns</td>
              <td>browse</td>
              <td>couchdb</td>
              <td>direct-vm</td>
              <td>eventadmin</td>
            </tr>
            <tr>
              <td>atmosphere</td>
              <td>aws-sqs</td>
              <td>cache</td>
              <td>crypto</td>
              <td>dns</td>
              <td>exec</td>
            </tr>
            <tr>
              <td>atom</td>
              <td>aws-swf</td>
              <td>class</td>
              <td>cxf</td>
              <td>disruptor</td>
              <td>facebook</td>
            </tr>
            <tr>
              <td>avro</td>
              <td>aws-s3</td>
              <td>chunk</td>
              <td>cxfbean</td>
              <td>docker</td>
              <td>file</td>
            </tr>
            <tr>
              <td>aws-cw</td>
              <td>bean</td>
              <td>cmis</td>
              <td>cxfrs</td>
              <td>dropbox</td>
              <td>flatpack</td>
            </tr>
          </table>
        </section>

        <section>
          <h2>More Components</h2>
          <table style="margin: 0 auto;">
            <tr>
              <td>freemarker</td>
              <td>google-drive</td>
              <td>hdfs</td>
              <td>imaps</td>
              <td>jira</td>
              <td>krati</td>
            </tr>
            <tr>
              <td>ftp</td>
              <td>gogle-mail</td>
              <td>hdfs2</td>
              <td>irc</td>
              <td>jms</td>
              <td>language</td>
            </tr>
            <tr>
              <td>ftps</td>
              <td>gmail</td>
              <td>hl7</td>
              <td>javaspace</td>
              <td>jmx</td>
              <td>ldap</td>
            </tr>
            <tr>
              <td>gauth</td>
              <td>geocoder</td>
              <td>infinispan</td>
              <td>jclouds</td>
              <td>jpa</td>
              <td>linkedin</td>
            </tr>
            <tr>
              <td>ghttp</td>
              <td>github</td>
              <td>http</td>
              <td>jcr</td>
              <td>jsch</td>
              <td>log</td>
            </tr>
            <tr>
              <td>glogin</td>
              <td>guava-eventbus</td>
              <td>http4</td>
              <td>jdbc</td>
              <td>jt400</td>
              <td>lucene</td>
            </tr>
            <tr>
              <td>gtask</td>
              <td>hazelcast</td>
              <td>ibatis</td>
              <td>jetty</td>
              <td>kafka</td>
              <td>metrics</td>
            </tr>
            <tr>
              <td>google-calendar</td>
              <td>hbase</td>
              <td>imap</td>
              <td>jgroups</td>
              <td>kestrel</td>
              <td>mina</td>
            </tr>
          </table>
        </section>

        <section>
          <h2>So Many Components</h2>
          <table style="margin: 0 auto;">
            <tr>
              <td>mina2</td>
              <td>nagios</td>
              <td>pax-logging</td>
              <td>rabbitmq</td>
              <td>rss</td>
              <td>sips</td>
            </tr>
            <tr>
              <td>mock</td>
              <td>netty</td>
              <td>pop3</td>
              <td>ref</td>
              <td>salesforce</td>
              <td>sjms</td>
            </tr>
            <tr>
              <td>mongodb</td>
              <td>netty4</td>
              <td>pop3s</td>
              <td>rest</td>
              <td>sap-netweaver</td>
              <td>smtp</td>
            </tr>
            <tr>
              <td>mgtt</td>
              <td>netty-http</td>
              <td>printer</td>
              <td>restlet</td>
              <td>schematron</td>
              <td>smpp</td>
            </tr>
            <tr>
              <td>msv</td>
              <td>netty4-http</td>
              <td>properties</td>
              <td>rmi</td>
              <td>seda</td>
              <td>smpps</td>
            </tr>
            <tr>
              <td>mustache</td>
              <td>olingo2</td>
              <td>quartz</td>
              <td>rnc</td>
              <td>servlet</td>
              <td>snmp</td>
            </tr>
            <tr>
              <td>mvel</td>
              <td>openshift</td>
              <td>quartz2</td>
              <td>rng</td>
              <td>sftp</td>
              <td>solr</td>
            </tr>
            <tr>
              <td>mybatis</td>
              <td>optaplanner</td>
              <td>quickfix</td>
              <td>routebox</td>
              <td>sip</td>
              <td>spark-rest</td>
            </tr>
          </table>
        </section>

        <section>
          <h2>Hundreds of Components</h2>
          <table style="margin: 0 auto;">
            <tr>
              <td>splunk</td>
              <td>stax</td>
              <td>ssh</td>
              <td>xquery</td>
              <td>db4o</td>
              <td>nmr</td>
            </tr>
            <tr>
              <td>spring-boot</td>
              <td>stream</td>
              <td>validation</td>
              <td>xslt</td>
              <td>esper</td>
              <td>rcode</td>
            </tr>
            <tr>
              <td>spring-batch</td>
              <td>stomp</td>
              <td>velocity</td>
              <td>yammer</td>
              <td>fabric-amq</td>
              <td>scalate</td>
            </tr>
            <tr>
              <td>spring-int</td>
              <td>string-temp</td>
              <td>vm</td>
              <td>zookeeper</td>
              <td>fabric-fabric</td>
              <td>smooks</td>
            </tr>
            <tr>
              <td>spring-ldap</td>
              <td>stub</td>
              <td>weather</td>
              <td>activemq</td>
              <td>fabric-master</td>
              <td>spring-neo4j</td>
            </tr>
            <tr>
              <td>spring-redis</td>
              <td>test</td>
              <td>websocket</td>
              <td>activemq-broker</td>
              <td>hibernate</td>
              <td>virutalbox</td>
            </tr>
            <tr>
              <td>spring-ws</td>
              <td>timer</td>
              <td>xml-security</td>
              <td>activiti</td>
              <td>jbi</td>
              <td>zeromq</td>
            </tr>
            <tr>
              <td>sql</td>
              <td>twitter</td>
              <td>xmpp</td>
              <td>couchbase</td>
              <td>jcifs</td>
              <td>
                <br>
              </td>
            </tr>
          </table>
        </section>
      </section>

<section>
  <section>
    <h2>Error Handling</h2>
    <p>
      Try...Catch...Finally
    </p>
    <p>
      Exception Clause in Java DSL
    </p>
    <p>
      Error Handlers
    </p>
    <p>
      <ul>
        <li>
          Default Error Handler
        </li>
        <li>
          Dead Letter Channel
        </li>
        <li>
          Logging Error Handler
        </li>
        <li>
          No Error Handler
        </li>
        <li>
          Transaction Error Handler
        </li>
      </ul>
    </p>
    <p>
      Support for Exponential Backoff of Retries
    </p>
    <aside class="notes">
      DefaultErrorHandler does not retry, DeadLetterChannel has DLQ and retries.
    </aside>
  </section>

  <section>
    <h2>Error Handling Code</h2>
    <pre>
      <code data-trim>
from("direct:start")
  .doTry()
    .process(new ProcessorFail())
    .to("mock:result")
  .doCatch(IOException.class, IllegalStateException.class)
    .to("mock:catch")
  .doFinally()
    .to("mock:finally")
  .end();
      </code>
    </pre>
    <pre>
      <code data-trim>
onException(ValidationException.class)
  .to("activemq:validationFailed");

onException(ShipOrderException.class)
  .to("activemq:shipFailed");

from("seda:order").to("bean:processOrder");
      </code>
    </pre>
    <pre>
      <code data-trim>
errorHandler(deadLetterChannel("jms:queue:dead")
  .useOriginalMessage()
  .mamimumRedeliveries(5)
  .redeliverDelay(5000));

errorHandler(defaultErrorHandler()
  .allowRedeliveryWhileStopping(false)
  .maximumRedeliveries(20)
  .redeliveryDelay(1000)
  .retryAttemptedLogLevel(LoggingLevel.INFO));
      </code>
    </pre>
  </section>

  <section>
    <h2>Redelivery Delay Patterns</h2>
    <p>
      Allows for custom backoff of retries.
    </p>
    <p>
      Syntax: <i>limit:delay;limit2:delay2;limit3:delay3;...;limitN:delayN</i>
    </p>
    <p>
      If <i>delayPattern=5:1000;10:5000;20:20000</i> then we get
      <ul>
        <li>Redelivery attempt number 1..4 = 0 sec (as the first group starts with 5)</li>
        <li>Redelivery attempt number 5..9 = 1 sec (the first group)</li>
        <li>Redelivery attempt number 10..19 = 5 sec (the second group)</li>
        <li>Redelivery attempt number 20.. = 20 sec (the last group)</li>
      </ul>
    </p>
  </section>
</section>


      <section>
        <section>
          <h2>Security</h2>
          <p>
            Four Broad Categories of Security Offered
          </p>
          <p>
            <ul>
              <li>
                Route Security
              </li>
              <li>
                Payload Security
              </li>
              <li>
                Endpoint Security
              </li>
              <li>
                Configuration Security
              </li>
            </ul>
          </p>
        </section>

        <section>
          <h2>Route Security</h2>
          <p>
            Policy driven security for routes or route segments
          </p>
          <p>
            <ul>
              <li>Shiro Security</li>
              <li>Spring Security</li>
            </ul>
          </p>
        </section>

        <section>
          <h2>Payload Security</h2>
          <p>
            Encryption and decryption services for secure paylods
          </p>
          <p>
            <ul>
              <li>XMLSecurity DataFormat (XML Encryption support)</li>
              <li>XML Security component (XML Signature support)</li>
              <li>Crypto DataFormat (Encryption + PGP support)</li>
              <li>Crypto component (Signature support)</li>
            </ul>
          </p>
        </section>

        <section>
          <h2>Endpoint Security</h2>
          <p>
            Some components can be secured, but not all
          </p>
          <p>
            <ul>
              <li>Jetty - HTTP Basic &amp; SSL</li>
              <li>CXF - HTTP Basic &amp; WS-Security</li>
              <li>Spring Web Services - HTTP Basic &amp; WS-Security</li>
              <li>Netty - SSL</li>
              <li>MINA - SSL</li>
              <li>Cometd - SSL</li>
              <li>JMS - JAAS and SSL for client <--> broker communication</li>
            </ul>
          </p>
        </section>

        <section>
          <h2>Configuration Security</h2>
          <p>
            Externalize configuration properties
          </p>
          <p>
            <ul>
              <li>Properties</li>
              <li>Jasypt - Encrypted values</li>
              <li>JSSE Utility - Configure SSL/TLS</li>
            </ul>
          </p>
        </section>
      </section>

      <section>
        <h2>Scalable</h2>
        <p>
          Load Balancing Policies
        </p>
        <p>
          Thread and Service Pools
        </p>
        <p>
          Asynchronous API
        </p>
        <p>
          Clustering
        </p>
        <p>
          <ul>
            <li>Same JVM &amp; Context - Use direct or seda</li>
            <li>Same JVM, Different Context - Use vm</li>
            <li>Different JVM - Use jms, activemq, ftp, etc...</li>
            <li>OSGi - Use Normalized Message Router (NMR)</li>
          </ul>
        </p>
        <aside class="notes">
          NMR is used for interconnecting routes deployed directly into the OSGi container but in different bundles.
        </aside>
      </section>

      <section>
        <h2>HA &amp; Failover</h2>
        <p>
          Not natively supported
        </p>
        <p>
          Provided by the following components
        </p>
        <p>
          <ul>
            <li>Camel Fabric Master component</li>
            <li>Camel ZooKeeper via a Route policy</li>
            <li>Camel JGroups</li>
          </ul>
        </p>
        <aside class="notes">
          Solutions Article 667563. JGroups not until Camel 2.13
        </aside>
      </section>

      <section>
        <section>
          <h2>Testable</h2>
          <p>
            Native test frameworks
          </p>
          <p>
            Supports unit and integration Testing
          </p>
          <p>
            Built in mock &amp; stub support
          </p>
          <p>
            Advanced testing with NotifyBuilder and AdviceWith
          </p>
          <p>
            Works with 3rd party test frameworks
          </p>
          <p>
            <ul>
              <li>PaxExam</li>
              <li>Arquillian</li>
              <li>JUnit</li>
              <li>TestNG</li>
            </ul>
          </p>
        </section>

        <section>
          <h2>Available Test Harnesses</h2>
          <table width="100%">
            <tr>
              <th>Name</th>
              <th>Component</th>
              <th>Description</th>
            </tr>
            <tr>
            <td>Camel Test</td>
            <td>camel-test</td>
            <td>Standalone Java library to create Camel test cases using a single Java class for all your configuration and
              routing without using Spring or Guice</td>
          </tr>
              <tr>
              <td>Spring Testing</td>
              <td>camel-test-spring</td>
              <td>Supports JUnit 4 tests that bootstrap a test environment using Spring without needing to be familiar with Spring Test.</td>
            </tr>
              <tr>
              <td>Blueprint Testing</td>
              <td>camel-test-blueprint</td>
              <td>Provides the ability to do unit testing on blueprint configurations</td>
            </tr>
              <tr>
              <td>Guice</td>
              <td>camel-guice</td>
              <td>Uses Guice to dependency inject your test classes</td>
            </tr>
              <tr>
              <td>Camel TestNG</td>
              <td>camel-testng</td>
              <td>Supports plain TestNG based tests with or without Spring or Guice</td>
            </tr>
          </table>
        </section>

        <section>
          <h2>Example Camel Test</h2>
          <pre>
            <code class="java" data-trim>
public class FilterTest extends CamelTestSupport {
  @EndpointInject(uri = "mock:result")
  protected MockEndpoint resultEndpoint;
  @Produce(uri = "direct:start")
  protected ProducerTemplate template;
  @Test
  public void testSendMatchingMessage() throws Exception {
    String expectedBody = "matched";
    resultEndpoint.expectedBodiesReceived(expectedBody);
    template.sendBodyAndHeader(expectedBody, "foo", "bar");
    resultEndpoint.assertIsSatisfied();
  }
  @Override
  protected RouteBuilder createRouteBuilder() {
    return new RouteBuilder() {
      public void configure() {
        from("direct:start").filter(header("foo").isEqualTo("bar")).to("mock:result");
      }
    };
  }
}
            </code>
          </pre>
        </section>
      </section>

      <section>
        <section>
          <h2>Tooling</h2>
          <p>
            Several tools exist for working with and monitoring Camel
          </p>
          <p>
            <ul>
              <li>Camel Maven Plugin</li>
              <li>JBoss Tools for Camel</li>
              <li>Talend Open Studio</li>
              <li>Hawtio Camel Plugin</li>
            </ul>
          </p>
          <aside class="notes">
            Talend Open Studio is an Eclipse based IDE for Talend products, similar to JBDS.
          </aside>
        </section>

        <section>
          <h2>JBoss Tools for Camel</h2>
          <p>
            <img src="images/features-fuse-route-ed.png"/>
          </p>
        </section>

        <section>
          <h2>JBoss Tools for Camel</h2>
          <p>
            <img src="images/features-fuse-tracing.png"/>
          </p>
        </section>
      </section>

      <section>
        <section>
          <h2>Enterprise Integration Patterns</h2>
          <table width="100%">
            <tr>
              <td style="vertical-align: top;">
                <p>
                  Similar to Design Patterns
                </p>
                <p>
                  Focused specifically on Integration
                </p>
                <p>
                  Written by Gregor Hohpe &amp; Bobby Wolf
                </p>
                <p>
                  65 Documented Patterns
                </p>
                <p>
                  Camel supports 53 of them
                </p>
              </td>
              <td style="vertical-align: top;">
                <img src="images/eip_patterns.jpg" border="0"/>
              </td>
            </tr>
          </table>
        </section>

        <section>
          <h2>Enterprise Integration Patterns</h2>
          <img src="images/EAIPatterns.png" width="100%"/>
        </section>

        <section>
          <h2>EIP to Camel</h2>
          <table width="100%">
            <tr>
              <td style="text-align: center">
                <img src="images/cbr.jpg"/>
              </td>
            </tr>
            <tr>
              <td>
                <pre>
                  <code class="java">
Endpoint newOrder = endpoint("activemq:queue:newOrder");
Predicate isWidget = xpath("/order/product ='widget'");
Endpoint widget = endpoint("activemq:queue:widget");
Endpoint gadget = endpoint("activemq:queue:gadget");

from(newOrder)
  .choice()
    .when(isWidget)
      .to(widget)
    .otherwise()
      .to(gadget)
  .end();
                  </code>
                </pre>
              </td>
            </tr>
          </table>
        </section>
      </section>

      <section data-background="images/rh_bg3.jpg" data-background-size="contain">
        <h1>Architecture</h1>
      </section>

      <section>
        <h2>High Level Architecture</h2>
        <img src="images/camel-arch.png" width="75%"/>
      </section>

      <section>
        <h2>Domain Specific Language</h2>
        <p>
          Used for defining routes
        </p>
        <p>
          Multiple DSL's exist
        </p>
      </section>

      <section>
        <h2>Route</h2>
        <p>
          Set of rules that define message flow
        </p>
        <p>
          Consists of:
        </p>
        <p>
          <ul>
            <li>
              Endpoints
            </li>
            <li>
              EIP Constructs
            </li>
            <li>
              Processors
            </li>
          </ul>
        </p>
      </section>

      <section>
        <h2>Endpoint</h2>
        <p>
          Implementation of the Message Endpoint pattern
        </p>
        <p>
          Created by components
        </p>
        <p>
          Referred to by uniue URI's in the DSL
        </p>
        <p>
          Consumers receive messages
        </p>
        <p>
          Producers send messages
        </p>
      </section>

      <section>
        <h2>Component</h2>
        <p>
          Essentially a factory for Endpoint instances
        </p>
        <p>
          Adds functionality to Camel
        </p>
        <p>
          Custom components extend DefaultComponent
        </p>
      </section>

      <section>
        <h2>Processor</h2>
        <p>
          Consumes message exchanges
        </p>
        <p>
          Processor interface for building custom Processors
        </p>
        <p>
          Used to encapsulate custom business logic
        </p>
        <p>
          Can be turned into a full Component
        </p>
      </section>

      <section>
        <h2>Message Exchange</h2>
        <p>
          Supports multiple Exchange Patterns
        </p>
        <p>
          <ul>
            <li>
              One Way Event Message EIP
            </li>
            <li>
              Request Reply Message EIP
            </li>
          </ul>
        </p>
        <p>
          Implements Message EIP
        </p>
      </section>

      <section data-background="images/rh_bg4.jpg" data-background-size="contain">
        <h1>Supported Platforms</h1>
      </section>

      <section>
        <h2>Multiple Platforms</h2>
        <p>
          Anywhere that supports Java 1.6
        </p>
        <p>
          <ul>
            <li>Standard JVM</li>
            <li>OSGi</li>
            <li>Tomcat</li>
            <li>Application Servers</li>
            <li>Spring</li>
          </ul>
        </p>
      </section>

      <section>
        <h2>Camel and Red Hat</h2>
        <p>
          Included in JBoss Fuse
        </p>
        <p>
          Included in JBoss Fuse Service Works
        </p>
        <p>
          <ul>
            <li>
              Run as part of SwitchYard
            </li>
            <li>
              Run outside of SwitchYard on EAP Container
            </li>
          </ul>
        </p>
        <p>
          Supported on EAP 6.1.1+
        </p>
        <p>
          <ul>
            <li>
              Requires JBoss Fuse &amp; JBoss EAP Subscription
            </li>
            <li>
              Must use Camel libraries from JBoss Fuse
            </li>
          </ul>
        </p>
      </section>

      <section data-background="images/rh_bg5.jpg" data-background-size="contain">
        <h1>Hands On Camel</h1>
      </section>

      <section>
        <h2>TODO</h2>
      </section>

      <section data-background="images/rh_bg6.jpg" data-background-size="contain">
        <h1>Future of Camel</h1>
      </section>

      <section>
        <h2>Camel v3 Improvements</h2>
        <p>
          Improved Test Support
        </p>
        <p>
          <ul>
            <li>Support for testing indiviual components, processors, etc...</li>
          </ul>
        </p>
        <p>
          Persistent Message Store
        </p>
        <p>
          Java 8 DSL
        </p>
        <p>
          Split/Optimize Camel-CXF
        </p>
      </section>

      <section>
        <h2>Camel on EAP Subsystem</h2>
        <p>
          Full EAP Subsystem
        </p>
        <p>
          Improved Integration with JEE Standards
        </p>
        <p>
          Updated JEE Related Camel Components
        </p>
        <p>
          <ul>
            <li>camel-cdi</li>
            <li>camel-cxf</li>
            <li>camel-jaxb</li>
            <li>camel-jms</li>
            <li>camel-jmx</li>
            <li>camel-jpa</li>
          </ul>
        </p>
        <p>
          Full Arquillian Support
        </p>
        <p>
          Available now in Wildfly 8.1
        </p>
        <p>
          Official Support in future Fuse Release
        </p>
        <p>
          <ul>
            <li>
              Targeted for Fuse 6.2
            </li>
          </ul>
        </p>
      </section>

      <section data-background="images/rh_bg1.jpg" data-background-size="contain">
        <h1>Questions?</h1>
      </section>

    </div>

  </div>

  <script src="lib/js/head.min.js"></script>
  <script src="js/reveal.js"></script>



  <script>
    // Full list of configuration options available here:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
    	controls: true,
    	progress: true,
    	history: true,
    	center: true,
    	// The "normal" size of the presentation, aspect ratio will be preserved
    	// when the presentation is scaled to fit different resolutions. Can be
    	// specified using percentage units.
    	width: 1280,
    	height: 1024,

    	theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
    	transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none
    	// Visit http://revealjs.jit.su/token to generate your secret and id
    	multiplex: {
    		secret: null,
    		id: '',
    		url: 'revealjs.jit.su:80'
    	},

    	// Parallax scrolling
    	// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
    	// parallaxBackgroundSize: '2100px 900px',

    	// Optional libraries used to extend on reveal.js
    	dependencies: [
    		// Cross-browser shim that fully implements classList - https://github.com/eligrey/classList.js/
    		{
    			src: 'lib/js/classList.js',
    			condition: function() {
    				return !document.body.classList;
    			}
    		},

    		// Interpret Markdown in <section> elements
    		{
    			src: 'plugin/markdown/marked.js',
    			condition: function() {
    				return !!document.querySelector('[data-markdown]');
    			}
    		}, {
    			src: 'plugin/markdown/markdown.js',
    			condition: function() {
    				return !!document.querySelector('[data-markdown]');
    			}
    		},

    		// Syntax highlight for <code> elements
    		{
    			src: 'plugin/highlight/highlight.js',
    			async: true,
    			callback: function() {
    				hljs.initHighlightingOnLoad();
    			}
    		},

    		// Zoom in and out with Alt+click
    		{
    			src: 'plugin/zoom-js/zoom.js',
    			async: true,
    			condition: function() {
    				return !!document.body.classList;
    			}
    		},

    		// Speaker notes
    		{
    			src: 'plugin/notes/notes.js',
    			async: true,
    			condition: function() {
    				return !!document.body.classList;
    			}
    		},

    		// Remote control your reveal.js presentation using a touch device
    		// Visit remot.io to configure
    		//{ src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } },

    		// socket.io for multiplexing
    		//{ src: 'http://cdnjs.cloudflare.com/ajax/libs/socket.io/0.9.10/socket.io.min.js', async: true },
    		{
    			src: 'plugin/socket.io/socket.io.min.js',
    			async: true
    		}, {
    			src: 'plugin/multiplex/client.js',
    			async: true
    		}
    		//{ src: 'plugin/multiplex/master.js', async: true }
    	]
    });

    Reveal.addEventListener('slidechanged', function(event) {
    	redrawChart();
    });
  </script>

</body>

</html>
